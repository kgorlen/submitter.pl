head	1.22;
access;
symbols;
locks; strict;
comment	@# @;


1.22
date	2020.01.17.21.19.45;	author photochr;	state Exp;
branches;
next	1.21;

1.21
date	2019.11.26.19.11.39;	author photochr;	state Exp;
branches;
next	1.20;

1.20
date	2019.09.04.18.23.23;	author photochr;	state Exp;
branches;
next	1.19;

1.19
date	2017.12.14.20.32.03;	author photochr;	state Exp;
branches;
next	1.18;

1.18
date	2017.12.14.20.02.37;	author photochr;	state Exp;
branches;
next	1.17;

1.17
date	2016.10.06.20.36.56;	author photochr;	state Exp;
branches;
next	1.16;

1.16
date	2016.09.06.23.17.56;	author photochr;	state Exp;
branches;
next	1.15;

1.15
date	2016.05.14.16.53.46;	author photochr;	state Exp;
branches;
next	1.14;

1.14
date	2016.05.05.18.32.27;	author photochr;	state Exp;
branches;
next	1.13;

1.13
date	2016.04.07.16.30.18;	author photochr;	state Exp;
branches;
next	1.12;

1.12
date	2016.03.31.17.06.52;	author photochr;	state Exp;
branches;
next	1.11;

1.11
date	2014.10.05.19.09.49;	author photochr;	state Exp;
branches;
next	1.10;

1.10
date	2014.08.18.01.33.22;	author photochr;	state Exp;
branches;
next	1.9;

1.9
date	2014.06.24.16.14.40;	author photochr;	state Exp;
branches;
next	1.8;

1.8
date	2013.10.19.19.13.24;	author photochr;	state Exp;
branches;
next	1.7;

1.7
date	2013.09.06.17.54.20;	author photochr;	state Exp;
branches;
next	1.6;

1.6
date	2013.08.29.03.42.20;	author photochr;	state Exp;
branches;
next	1.5;

1.5
date	2013.08.09.01.28.03;	author photochr;	state Exp;
branches;
next	1.4;

1.4
date	2013.06.01.17.10.58;	author photochr;	state Exp;
branches;
next	1.3;

1.3
date	2012.11.22.17.37.21;	author photochr;	state Exp;
branches;
next	1.2;

1.2
date	2012.11.15.17.38.38;	author photochr;	state Exp;
branches;
next	1.1;

1.1
date	2012.10.24.20.37.08;	author photochr;	state Exp;
branches;
next	;


desc
@@


1.22
log
@Add danielsarago@@sbcglobal.net to -ccack and -replyto.
Remove gorlen@@comcast.net from -replyto.
@
text
@# $Header: /home/photochr/src/perl5/Photochrome/RCS/.procmailrc,v 1.21 2019/11/26 19:11:39 photochr Exp photochr $

# $Log: .procmailrc,v $
# Revision 1.21  2019/11/26 19:11:39  photochr
# Change location of test script to $HOME/src/perl/Photochrome/submitter.pl
#
# Revision 1.20  2019/09/04 18:23:23  photochr
# Summary: Change location of test script to $HOME/src/perl/Photochrome/submitter.pl; remove -replyto AHealdSF@@outlook.com.
#
# Revision 1.19  2017/12/14 20:32:03  photochr
# Run submitter.pl from $HOME/bin.
#
# Revision 1.18  2017/12/14 20:02:37  photochr
# Change PERL5LIB to $HOME/lib/perl5.
#
# Revision 1.17  2016/10/06 20:36:56  photochr
# Correct spam filter to include tab characters in whitespace ($SPCNL).
#
# Revision 1.16  2016/09/06 23:17:56  photochr
# Modify attachment filter rule with \<*$ as per [HE#3130475].
#
# Revision 1.15  2016/05/14 16:53:46  photochr
# Add ;? to attachment filter rule as per [HE#3130475].
#
# Revision 1.14  2016/05/05 18:32:27  photochr
# Improve spam filtering.
#
# Revision 1.13  2016/04/07 16:30:18  photochr
# Change AHealdSF@@aol.com to AHealdSF@@outlook.com.
#
# Revision 1.12  2016/03/31 17:06:52  photochr
# Remove -ccack AHealdSF@@aol.com from all rules.
#
# Revision 1.11  2014/10/05 19:09:49  photochr
# Add -debug and redirect STDERR to ~/submitter.log in submit@@photochrome.org recipe.
#
# Revision 1.10  2014/08/18 01:33:22  photochr
# Set SMTPHOSTS.
#
# Revision 1.9  2014/06/24 16:14:40  photochr
# Change "banquet2013" to "banquet" and "cyberfest2013" to "imagefest".
#
# Revision 1.8  2013/10/19 19:13:24  photochr
# Add configuration for banquet2013@@photochrome.org.
#
# Revision 1.7  2013/09/06 17:54:20  photochr
# Add configuration for cyberfest2013@@photochrome.org.
#
# Revision 1.6  2013/08/29 03:42:20  photochr
# Add -ccack and -replyto AHealdSF@@aol.com.
#
# Revision 1.5  2013/08/09 01:28:03  photochr
# Remove -ccack artbyalice2000@@yahoo.com for projectionist@@photochrome.org.
#
# Revision 1.4  2013/06/01 17:10:58  photochr
# Add -ccack artbyalice2000@@yahoo.com for projectionist@@photochrome.org.
# Correct projectionist@@photochrome.org X-Loop.
#
# Revision 1.3  2012/11/22 17:37:21  photochr
# Reenable shuffle.
#
# Revision 1.2  2012/11/15 17:38:38  photochr
# Set -noshuffle for banquet show submissions.
#
# Revision 1.1  2012/10/24 20:37:08  photochr
# Initial revision
#

PATH=~/bin:/usr/bin:/usr/local/bin
MAILDIR=/var/spool/mail/photochrome.org
SMTPHOSTS=photochrome.org
LOGFILE=$HOME/.procmail.log
VERBOSE=yes
COMSAT=no
PERL5LIB=$HOME/lib/perl5
#SENDMAILFLAGS=-i

WSPC   = " 	"       # whitespace = space + tab
SPC    = "[$WSPC]"      # regexp whitespace
NSPC  = "[^$WSPC]"      # negation of whitespace
SPCNL = "($SPC|$)"      # space + tab + newline 

:0fw
* < 60000
| /usr/bin/spamc

:0e
{
    EXITCODE=77
}

 :0:
* ^X-Spam-Status: Yes
$DEFAULT/.Spam/

:0B
* B ?? ^(Content-Disposition:[  ]*attachment;)?$SPCNL*(file)?name="?.*\.(asd|bat|chm|cmd|com|dll|exe|hlp|hta|js|jse|lnk|ocx|pif|scr|shb|shm|shs|vb|vbe|vbs|vbx|vxd|docm|dotm|xlsm|xlsb|pptm|ppsm|wsf|wsh|zip|ace|rar|jar|cab|docm|rtf)\<*$
/dev/null

:0
* ^(To|Cc|X-Forwarded-To):.*submit@@photochrome.org
{
        :0
	* !^FROM_DAEMON
	* !^X-Loop: submit@@photochrome.org
	{
		:0 wc
	        | $HOME/src/perl5/Photochrome/submitter.pl -submitdir $HOME/submit-test -user submit -debug 2>>$HOME/submitter.log

		:0 e
		$HOME/submit-test/FAILED
	}

	:0
	/dev/null
}

:0
* ^(To|Cc|X-Forwarded-To):.*projectionist@@photochrome.org
{
        :0
	* !^FROM_DAEMON
	* !^X-Loop: projectionist@@photochrome.org
	{
		:0 wc
	        | $HOME/bin/submitter.pl -user projectionist -ccack gorlen@@comcast.net -ccack danielsarago@@sbcglobal.net -replyto danielsarago@@sbcglobal.net

		:0 e
		failures/
	}

	:0
	/dev/null
}

:0
* ^(To|Cc|X-Forwarded-To):.*imagefest@@photochrome.org
{
        :0
	* !^FROM_DAEMON
	* !^X-Loop: imagefest@@photochrome.org
	{
		:0 wc
	        | $HOME/bin/submitter.pl -submitdir $HOME/imagefest -user imagefest -noshuffle -ccack gorlen@@comcast.net -ccack danielsarago@@sbcglobal.net -replyto danielsarago@@sbcglobal.net

		:0 e
		failures/
	}

	:0
	/dev/null
}

:0
* ^(To|Cc|X-Forwarded-To):.*banquet@@photochrome.org
{
        :0
	* !^FROM_DAEMON
	* !^X-Loop: banquet@@photochrome.org
	{
		:0 wc
	        | $HOME/bin/submitter.pl -submitdir $HOME/banquet -user banquet -noshuffle -ccack gorlen@@comcast.net -ccack danielsarago@@sbcglobal.net -replyto danielsarago@@sbcglobal.net

		:0 e
		failures/
	}

	:0
	/dev/null
}
@


1.21
log
@Change location of test script to $HOME/src/perl/Photochrome/submitter.pl
@
text
@d1 1
a1 1
# $Header: /home/photochr/src/perl5/Photochrome/RCS/.procmailrc,v 1.20 2019/09/04 18:23:23 photochr Exp photochr $
d4 3
d126 1
a126 1
	        | $HOME/bin/submitter.pl -user projectionist -ccack gorlen@@comcast.net -replyto gorlen@@comcast.net
d144 1
a144 1
	        | $HOME/bin/submitter.pl -submitdir $HOME/imagefest -user imagefest -noshuffle -ccack gorlen@@comcast.net -replyto gorlen@@comcast.net
d162 1
a162 1
	        | $HOME/bin/submitter.pl -submitdir $HOME/banquet -user banquet -noshuffle -ccack gorlen@@comcast.net -replyto gorlen@@comcast.net
@


1.20
log
@Summary: Change location of test script to $HOME/src/perl/Photochrome/submitter.pl; remove -replyto AHealdSF@@outlook.com.
@
text
@d1 1
a1 1
# $Header: /home/photochr/src/perl5/Photochrome/RCS/.procmailrc,v 1.19 2017/12/14 20:32:03 photochr Exp photochr $
d4 3
d105 1
a105 1
	        | $HOME/src/perl/Photochrome/submitter.pl -submitdir $HOME/submit-test -user submit -debug 2>>$HOME/submitter.log
@


1.19
log
@Run submitter.pl from $HOME/bin.
@
text
@d1 1
a1 1
# $Header: /home/photochr/perl/src/Photochrome/RCS/.procmailrc,v 1.18 2017/12/14 20:02:37 photochr Exp photochr $
d4 3
d102 1
a102 1
	        | $HOME/perl/src/Photochrome/submitter.pl -submitdir $HOME/submit-test -user submit -debug 2>>$HOME/submitter.log
d120 1
a120 1
	        | $HOME/bin/submitter.pl -user projectionist -ccack gorlen@@comcast.net -replyto gorlen@@comcast.net -replyto AHealdSF@@outlook.com
d138 1
a138 1
	        | $HOME/bin/submitter.pl -submitdir $HOME/imagefest -user imagefest -noshuffle -ccack gorlen@@comcast.net -replyto gorlen@@comcast.net -replyto AHealdSF@@outlook.com
d156 1
a156 1
	        | $HOME/bin/submitter.pl -submitdir $HOME/banquet -user banquet -noshuffle -ccack gorlen@@comcast.net -replyto gorlen@@comcast.net -replyto AHealdSF@@outlook.com
@


1.18
log
@Change PERL5LIB to $HOME/lib/perl5.
@
text
@d1 1
a1 1
# $Header: /home/photochr/perl/src/Photochrome/RCS/.procmailrc,v 1.17 2016/10/06 20:36:56 photochr Exp photochr $
d4 3
d60 1
a60 1
PATH=/usr/bin:/usr/local/bin
d117 1
a117 1
	        | $HOME/perl/bin/submitter.pl -user projectionist -ccack gorlen@@comcast.net -replyto gorlen@@comcast.net -replyto AHealdSF@@outlook.com
d135 1
a135 1
	        | $HOME/perl/bin/submitter.pl -submitdir $HOME/imagefest -user imagefest -noshuffle -ccack gorlen@@comcast.net -replyto gorlen@@comcast.net -replyto AHealdSF@@outlook.com
d153 1
a153 1
	        | $HOME/perl/bin/submitter.pl -submitdir $HOME/banquet -user banquet -noshuffle -ccack gorlen@@comcast.net -replyto gorlen@@comcast.net -replyto AHealdSF@@outlook.com
@


1.17
log
@Correct spam filter to include tab characters in whitespace ($SPCNL).
@
text
@d1 1
a1 1
# $Header: /home/photochr/perl/src/Photochrome/RCS/.procmailrc,v 1.16 2016/09/06 23:17:56 photochr Exp photochr $
d4 3
d63 1
a63 1
PERL5LIB=$HOME/perl/lib
@


1.16
log
@Modify attachment filter rule with \<*$ as per [HE#3130475].
@
text
@d1 1
a1 1
# $Header: /home/photochr/perl/src/Photochrome/RCS/.procmailrc,v 1.15 2016/05/14 16:53:46 photochr Exp photochr $
d4 3
d63 5
d82 1
a82 1
* B ?? ^(Content-Disposition:[  ]*attachment;)?[        ]*(file)?name="?.*\.(asd|bat|chm|cmd|com|dll|exe|hlp|hta|js|jse|lnk|ocx|pif|scr|shb|shm|shs|vb|vbe|vbs|vbx|vxd|docm|dotm|xlsm|xlsb|pptm|ppsm|wsf|wsh|zip|ace|rar|jar|cab|docm|rtf)\<*$
@


1.15
log
@Add ;? to attachment filter rule as per [HE#3130475].
@
text
@d1 1
a1 1
# $Header: /home/photochr/perl/src/Photochrome/RCS/.procmailrc,v 1.14 2016/05/05 18:32:27 photochr Exp photochr $
d4 3
d74 1
a74 1
* B ?? ^(Content-Disposition:[  ]*attachment;)?[        ]*(file)?name="?.*\.(asd|bat|chm|cmd|com|dll|exe|hlp|hta|js|jse|lnk|ocx|pif|scr|shb|shm|shs|vb|vbe|vbs|vbx|vxd|docm|dotm|xlsm|xlsb|pptm|ppsm|wsf|wsh|zip|ace|rar|jar|cab|docm|rtf)"?;?$
@


1.14
log
@Improve spam filtering.
@
text
@d1 1
a1 1
# $Header: /home/photochr/perl/src/Photochrome/RCS/.procmailrc,v 1.13 2016/04/07 16:30:18 photochr Exp photochr $
d4 3
d71 1
a71 1
* B ?? ^(Content-Disposition:[  ]*attachment;)?[        ]*(file)?name="?.*\.(asd|bat|chm|cmd|com|dll|exe|hlp|hta|js|jse|lnk|ocx|pif|scr|shb|shm|shs|vb|vbe|vbs|vbx|vxd|docm|dotm|xlsm|xlsb|pptm|ppsm|wsf|wsh|zip|ace|rar|jar|cab|docm|rtf)"?$
@


1.13
log
@Change AHealdSF@@aol.com to AHealdSF@@outlook.com.
@
text
@d1 1
a1 1
# $Header: /home/photochr/perl/src/Photochrome/RCS/.procmailrc,v 1.12 2016/03/31 17:06:52 photochr Exp photochr $
d4 3
d53 17
@


1.12
log
@Remove -ccack AHealdSF@@aol.com from all rules.
@
text
@d1 1
a1 1
# $Header: /home/photochr/perl/src/Photochrome/RCS/.procmailrc,v 1.11 2014/10/05 19:09:49 photochr Exp photochr $
d4 3
d77 1
a77 1
	        | $HOME/perl/bin/submitter.pl -user projectionist -ccack gorlen@@comcast.net -replyto gorlen@@comcast.net -replyto AHealdSF@@aol.com
d95 1
a95 1
	        | $HOME/perl/bin/submitter.pl -submitdir $HOME/imagefest -user imagefest -noshuffle -ccack gorlen@@comcast.net -replyto gorlen@@comcast.net -replyto AHealdSF@@aol.com
d113 1
a113 1
	        | $HOME/perl/bin/submitter.pl -submitdir $HOME/banquet -user banquet -noshuffle -ccack gorlen@@comcast.net -replyto gorlen@@comcast.net -replyto AHealdSF@@aol.com
@


1.11
log
@Add -debug and redirect STDERR to ~/submitter.log in submit@@photochrome.org recipe.
@
text
@d1 1
a1 1
# $Header: /home/photochr/perl/src/Photochrome/RCS/.procmailrc,v 1.10 2014/08/18 01:33:22 photochr Exp photochr $
d4 3
d74 1
a74 1
	        | $HOME/perl/bin/submitter.pl -user projectionist -ccack gorlen@@comcast.net -replyto gorlen@@comcast.net -ccack AHealdSF@@aol.com -replyto AHealdSF@@aol.com
d92 1
a92 1
	        | $HOME/perl/bin/submitter.pl -submitdir $HOME/imagefest -user imagefest -noshuffle -ccack gorlen@@comcast.net -replyto gorlen@@comcast.net -ccack AHealdSF@@aol.com -replyto AHealdSF@@aol.com
d110 1
a110 1
	        | $HOME/perl/bin/submitter.pl -submitdir $HOME/banquet -user banquet -noshuffle -ccack gorlen@@comcast.net -replyto gorlen@@comcast.net -ccack AHealdSF@@aol.com -replyto AHealdSF@@aol.com
@


1.10
log
@Set SMTPHOSTS.
@
text
@d1 1
a1 1
# $Header: /home/photochr/perl/src/Photochrome/RCS/.procmailrc,v 1.9 2014/06/24 16:14:40 photochr Exp photochr $
d4 3
d53 1
a53 1
	        | $HOME/perl/src/Photochrome/submitter.pl -submitdir $HOME/submit-test -user submit
@


1.9
log
@Change "banquet2013" to "banquet" and "cyberfest2013" to "imagefest".
@
text
@d1 1
a1 1
# $Header: /home/photochr/perl/src/Photochrome/RCS/.procmailrc,v 1.8 2013/10/19 19:13:24 photochr Exp photochr $
d4 3
d35 1
@


1.8
log
@Add configuration for banquet2013@@photochrome.org.
@
text
@d1 1
a1 1
# $Header: /home/photochr/perl/src/Photochrome/RCS/.procmailrc,v 1.7 2013/09/06 17:54:20 photochr Exp photochr $
d4 3
d75 1
a75 1
* ^(To|Cc|X-Forwarded-To):.*cyberfest2013@@photochrome.org
d79 1
a79 1
	* !^X-Loop: cyberfest2013@@photochrome.org
d82 1
a82 1
	        | $HOME/perl/bin/submitter.pl -submitdir $HOME/cyberfest2013 -user cyberfest2013 -noshuffle -ccack gorlen@@comcast.net -replyto gorlen@@comcast.net -ccack AHealdSF@@aol.com -replyto AHealdSF@@aol.com
d93 1
a93 1
* ^(To|Cc|X-Forwarded-To):.*banquet2013@@photochrome.org
d97 1
a97 1
	* !^X-Loop: banquet2013@@photochrome.org
d100 1
a100 1
	        | $HOME/perl/bin/submitter.pl -submitdir $HOME/banquet2013 -user banquet2013 -noshuffle -ccack gorlen@@comcast.net -replyto gorlen@@comcast.net -ccack AHealdSF@@aol.com -replyto AHealdSF@@aol.com
@


1.7
log
@Add configuration for cyberfest2013@@photochrome.org.
@
text
@d1 1
a1 1
# $Header: /home/photochr/perl/src/Photochrome/RCS/.procmailrc,v 1.6 2013/08/29 03:42:20 photochr Exp photochr $
d4 3
d88 18
@


1.6
log
@Add -ccack and -replyto AHealdSF@@aol.com.
@
text
@d1 1
a1 1
# $Header: /home/photochr/perl/src/Photochrome/RCS/.procmailrc,v 1.5 2013/08/09 01:28:03 photochr Exp photochr $
d4 3
d68 17
@


1.5
log
@Remove -ccack artbyalice2000@@yahoo.com for projectionist@@photochrome.org.
@
text
@d1 1
a1 1
# $Header: /home/photochr/perl/src/Photochrome/RCS/.procmailrc,v 1.4 2013/06/01 17:10:58 photochr Exp photochr $
d4 3
d55 1
a55 1
	        | $HOME/perl/bin/submitter.pl -user projectionist -ccack gorlen@@comcast.net -replyto gorlen@@comcast.net
@


1.4
log
@Add -ccack artbyalice2000@@yahoo.com for projectionist@@photochrome.org.
Correct projectionist@@photochrome.org X-Loop.
@
text
@d1 1
a1 1
# $Header: /home/photochr/perl/src/Photochrome/RCS/.procmailrc,v 1.3 2012/11/22 17:37:21 photochr Exp photochr $
d4 4
d52 1
a52 1
	        | $HOME/perl/bin/submitter.pl -user projectionist -ccack gorlen@@comcast.net -ccack artbyalice2000@@yahoo.com -replyto gorlen@@comcast.net
@


1.3
log
@Reenable shuffle.
@
text
@d1 1
a1 1
# $Header: /home/photochr/perl/src/Photochrome/RCS/.procmailrc,v 1.2 2012/11/15 17:38:38 photochr Exp photochr $
d4 3
d45 1
a45 1
	* !^X-Loop: submit@@photochrome.org
d48 1
a48 1
	        | $HOME/perl/bin/submitter.pl -user projectionist -ccack gorlen@@comcast.net -replyto gorlen@@comcast.net
@


1.2
log
@Set -noshuffle for banquet show submissions.
@
text
@d1 1
a1 1
# $Header: /home/photochr/perl/src/Photochrome/RCS/.procmailrc,v 1.1 2012/10/24 20:37:08 photochr Exp photochr $
d4 3
d45 1
a45 1
	        | $HOME/perl/bin/submitter.pl -user projectionist -ccack gorlen@@comcast.net -replyto gorlen@@comcast.net -noshuffle
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $Header$
d3 4
a6 1
# $Log$
d42 1
a42 1
	        | $HOME/perl/bin/submitter.pl -user projectionist -ccack gorlen@@comcast.net -replyto gorlen@@comcast.net
@
